Fri Apr 24 10:48:30 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-pwdialog.c: query current invisiable char from
	GtkEntry and set it for GtkSecureEntry too. Patch by Matthias Clasen.
	(BZ: #538339)

Fri Apr 24 10:46:20 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* gtksecentry/gtksecentry.c: don't install "gtk-entry-select-on-focus"
	settings property since it clashes with the one from GtkEntry. Allows
	to have GtkEntry and GtkSecureEntry in the same process.
	(https://bugs.g10code.com/gnupg/issue1029).

Fri Apr 24 09:39:16 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* AUTHORS: add Matthias Clasen

Fri Apr 24 09:35:59 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-applet.c: Don't show notification before the applet is
	  embedded in the panel (based on a patch for 0.8 by Matthias Clasen)

Do Apr 23 18:35:32 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* configure.ac: release 0.9

Do Apr 23 11:19:46 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* Update NEWS 

Thu Apr 23 11:17:28 CEST 2009 Guido Günther <agx@sigxcpu.org>

	Always reparse the principal name in grab_credentials. When
	acquireing credentials interacively we want to be sure we use the
	current principal name from gconf.
	* src/krb5-auth-dialog.c (ka_parse_name): Always parse principal
	  property.
	  (grab_credentials): Call ka_parse_name unconditionally.

Thu Apr 23 11:14:37 CEST 2009 Guido Günther <agx@sigxcpu.org>

	drop "Password:" label from dialog. It's in the kerberos prompt and
	confusing if prompted for a PIN.
	* src/krb5-auth-dialog.glade: drop password label 
	* src/krb5-auth-dialog.c (ka_pwdialog_setup): colon terminate prompts

Sat Apr 18 00:19:02 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-gconf.c (ka_gconf_set_principal): handle length zero
	  KA_GCONF_KEY_PRINCIPAL

Fri Apr 17 13:36:00 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* preferences/krb5-auth-dialog-preferences.glade: mark GtkEntrys
	  activates_default and close button as has_default.

Fri Apr 17 13:20:09 CEST 2009 Guido Günther <agx@sigxcpu.org>

	make pkinit anchors configurable and pass pkinit options to
	krb5_get_init_creds_opt_set_pa (MIT pkinit), if available.
	* configure.ac: check for krb5_get_init_creds_opt_set_pa
	* preferences/krb5-auth-dialog-preferences.c
	  (ka_preferences_pkanchors_notify,
	   ka_preferences_dialog_pkanchors_changed,
	   ka_preferences_dialog_setup_pkanchors_entry): new functions
	  (ka_preferences_dialog_init: call
	   ka_preferences_dialog_setup_pkanchors_entry to handle pk_anchors
	* preferences/krb5-auth-dialog-preferences.glade: add pkanchors_entry
	  GtkEntry
	* src/krb5-auth-applet.c (ka_applet-{set,get}_property,
	  ka_applet_class_init): handle pk-anchors property
	* src/krb5-auth-dialog.c (ka_set_ticket_options): pass pkinit userid
	   and anchors to krb5_get_init_creds_opt_set_pa if available.
	  (ka_auth_pkinit): rename to ka_auth_heimdal_pkinit
	  (ka_auth_heimdal_pkinit): pass pk_anchors
	  (grab_credentials): fetch pk_anchors from pk-anchors property and
	   pass it to ka_auth_{password,heimdal_pkinit}
	* src/krb5-auth-gconf.c (ka_gconf_set_pk_anchors): new function
	  (ka_gconf_key_changed_callback): handle pk_anchors
	  (ka_gconf_init); likewise
	* src/krb5-auth-gconf-tools.h: add pk_anchors
	* src/krb5-auth-dialog.schemas.in: add pk_anchors

Fri Apr 17 13:19:18 CEST 2009 Guido Günther <agx@sigxcpu.org>

	* AUTHORS: add Colin

Sat Apr  4 11:15:39 CEST 2009 Guido Günther <agx@sigxcpu.org>

	GtkSecureEntry warning fixes:
	* gtksecentry/gtksecentry.c (gtk_secure_entry_state_changed: drop
	  duplicate declaration
	  (g_malloc): use G_SIZE_FORMAT for gsize type
	  (g_malloc0): likewise
	  (gtk_secure_entry_get_type): add missing initializer
	  (gtk_secure_entry_delete_cb): drop, unused static function
	  (gtk_secure_entry_toggle_overwrite): likewise
	  (activate_cb): likewise
	  (unichar_chosen_func): likewise
	  (gtk_secure_entry_append_text: drop, deprecated in GtkEntry since
	  2.0 and missing declaration in gtksecentry.h
	  (gtk_secure_entry_prepend_text): likewise
	  (gtk_entry_set_position): likewise
	  (gtk_entry_select_region): likewise
	  declare unused parameters as G_GNUC_UNUSED
	* gtksecentry/gtksecentry.h (gtk_secure_entry_new_with_max_length):
	  add missing declaration
	  (gtk_secure_entry_layout_index_to_text_index): likewise
	  (gtk_secure_entry_text_index_to_layout_index): likewise

Sat Apr  4 11:06:45 CEST 2009 Guido Günther <agx@sigxcpu.org>

	add preferences capplet
	* preferences/{krb5-auth-dialog-preferences.{c,glade,desktop.in},
	  preferences/Makefile.am: new files
	* po/POTFILES.in: add the above
	* Makefile.am, configure.ac: process preferences/
	* src/krb5-auth-applet.c (ka_applet_cb_preferences): callback to open
	  preferences
	  (ka_applet_create_context_menu): add preferences context menu entry

Sat Apr  4 10:57:23 CEST 2009 Guido Günther <agx@sigxcpu.org>

	allow to set ticket proxiable, renewable and forwardable ticket flags
	via gconf
	* src/krb5-auth-applet.c (_KaApplet): add tgt_{forwardable,proxiable,
	  renewable)
	  (ka_applet_set_property): set via properties
	  (ka_applet_class_init): add properties
	* src/krb5-auth-dialog.c (ka_set_ticket_options): new function
	  (set_options_from_creds): use parameter instead of global var
	  (ka_grab_credentials): remove unused variable
	* src/krb5-auth-gconf.c (forwardable,renewable,proxiable): add new
	  boolean gconf keys
	* src/krb5-auth-dialog.schemas.in: add new gconf keys to schema

Sat Apr  4 10:52:53 CEST 2009 Guido Günther <agx@sigxcpu.org>

	split out gconf tool functions
	* src/krb5-auth-gconf-tools.h: new file
	* src/krb5-auth-gconf-tools.c: new file
	* src/krb5-auth-gconf.c (ka_gconf_get*): move to
	  src/krb5-auth-gconf-tools.c
	  (KA_GCONF_*): move to src/krb5-auth-gconf-tools.h

Sat Mär 28 14:17:49 CET 2009 Guido Günther <agx@sigxcpu.org>

	add dbus service file
	* src/org.gnome.KrbAuthDialog.service.in: new file
	* src/Makefile.am (service_DATA): process annd install service file

Tue Mär 24 00:04:50 CET 2009 Guido Günther <agx@sigxcpu.org>

	monitor ccache via GFileMontor
	* src/krb5-auth-dialog.c (monitor_ccache, ka_ccache_filename,
	  ccache_changed_cb): new functions
	  (main): monitor ccache via monitor_ccache
	* configure.ac: look for gio-unix

Tue Mär 24 00:01:28 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-dialog.c (auth_dialog_prompter): handle
	GTK_RESPONSE_DELETE_EVENT like GTK_RESPONSE_CANCEL so pressing ESC or
	closing the dialog has the same effect than pressing cancel.
	* (ka_grab_credentials): look at "cancled" instead of looking at the
	kerberos error codes - more robust since heimdal and mit have different
	responses, let alone pkinit.

Mon Mär 23 23:57:36 CET 2009 Guido Günther <agx@sigxcpu.org>

	split password auth into a separate function
	* src/krb5-auth-dialog.c (ka_auth_password): new function
	  (grab_credentials): fall back to password auth if no token is
	  present and pkinit is enabled

Mon Mär 23 23:55:20 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-pwdialog.h: remove unused headers
	* src/krb5-auth-applet.h: likewise
	* src/krb5-auth-dialog.c (is_online): move static variable to the top

Wed Mär 11 17:21:07 CET 2009 Guido Günther <agx@sigxcpu.org>

	silence compiler warnings
	* src/krb5-auth-{applet,dialog,gconf,pwdialog}.[ch]: mark unused
	  parameters as G_GNUC_UNUSED or drop them, add missing void to
	  prototypes

Mon Mär 11 17:19:02 CET 2009 Guido Günther <agx@sigxcpu.org>

	add more compiler warnings
	* acinclude.m4: add KA_COMPILE_WARNINGS
	* compiler-flags.m4: add gl_COMPILER_FLAGS to test compiler options
	* configure.ac: call KA_COMPILE_WARNINGS and add WARN_CFLAGS to CFLAGS

Wed Mär 11 17:10:11 CET 2009 Guido Günther <agx@sigxcpu.org>

	push the dialog into the foreground and grab the keyboard so we make
	sure the user gets to see the dialog in all cases (e.g. when an app is
	requesting the TGT via dbus). Grab the keyboard so the user doesn't
	type the password somewhere else. Code mostly taken from gnome
	keyrings's gkr-ask-tool.c.
	* src/krb5-auth-pwdialog.c (grab_keyboard, ungrab_keyboard,
	  window_state_changed): new functions
	  (ka_pwdialog_run): use these

Wed Mär 11 17:04:03 CET 2009 Guido Günther <agx@sigxcpu.org>

	add a pwdialog gobject - remove lots of duplicate code and splits most
	of the password dialog handling into its own file
	* src/krb5-auth-applet.[ch]: move dialog handling from
	here...
	* src/krb5-auth-dialog.[ch]: ..and here...
	* src/krb5-auth-pwdialog.[ch]: ... to here - new files.
	* src/krb5-auth-dialog.glade: rename krb5_wrong_label to
	krb5_status_label
	* po/POTFILES.in, src/Makefile.am: add src/krb5-auth-pwdialog.c

Sat Feb 28 16:41:54 CET 2009 Guido Günther <agx@sigxcpu.org>

	add DBus interface to acquire TGT
	* src/krb5-auth-dbus.[ch] (ka_dbus_acquire_tgt, ka_dbus_service): new
	  functions
	* src/Makefile.am: generate krb5-auth-applet-dbus-glue.h via
	  dbus-binding-tool
	* src/krb5-auth-applet-dbus.xml: new file
	* README: example dbus call

Sat Feb 28 16:35:45 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-applet.[ch] (ka_check_credentials): new function to
	  check if a principal matches our default
	  (ka_grab_credentials): return TRUE on success

Sat Feb 28 14:27:57 CET 2009 Guido Günther <agx@sigxcpu.org>

	Turn Krb5AuthApplet into a GObject named KaApplet
	* src/krb5-auth-applet.[ch]: declare and define KaApplet,
	  KaAppletPrivate
	  (ka_applet_{set,get}_property): new functions to access properties
	  (ka_applet_{dispose,finalize,{class,}_init}: new functions
	  (ka_applet_get_show_trayicon, ka_applet_set_tgt_renewable,
	   ka_applet_get_tgt_renewable, ka_applet_get_pw_prompt_secs,
	   ka_applet_run_pw_dialog, ka_applet_get_pwdialog_xml,
	   ka_applet_hide_pw_dialog, ka_applet_get_pw_label,
	   ka_applet_set_pw_dialog_persist): new functions
	* src/krb5-auth-dialog.c: use the above instead of accessing KaApplet
	  private data
	* src/krb5-auth-gconf.c: likewise
	* src/krb5-auth-dbus.c: update copyright
	* src/krb5-auth-notify.[ch] (ka_send_event_notification): moved from
	  to src/krb5-auth-applet.c

Sat Feb 28 14:18:35 CET 2009 Guido Günther <agx@sigxcpu.org>

	add .gitignore files
	* .gitignore: new file
	* etpo/.gitignore: likewise
	* po/.gitignore: likewise
	* src/.gitignore: likewise

Mon Jan 19 22:12:37 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-dialog.c: don't try pkinit if pk_userid is non-null
	but empty
	* src/krb5-auth-gconf.c: improve debug output for empty strings

Mon Jan 12 00:46:14 CET 2009 Guido Günther <agx@sigxcpu.org>

	* update NEWS 

Mon Jan 12 00:36:45 CET 2009 Guido Günther <agx@sigxcpu.org>

	move icons to $(datadir)/krb5-auth-dialog to fix missing tray icon
	when prefix != /usr
	* icons/Makefile.am (smallicondir): move to $(pkgdatadir)
	* src/Makefile.am: rename glade_DATA to pkgdata_DATA, GLADEDIR to
	  KA_DATA_DIR
	* src/krb5-auth-applet.c (ka_create_tray_icon): extend icon search
	  path by $(KA_DATA_DIR)/icons
	* src/krb5-auth-dialog.c (main): use $(KA_DATA_DIR)

Sun Jan 11 22:59:34 CET 2009 Guido Günther <agx@sigxcpu.org>

	* AUTHORS, MAINTAINERS: add myself 

Sat Jan 10 15:37:58 CET 2009 Guido Günther <agx@sigxcpu.org>

	* configure.ac: release 0.8

Fri Jan  9 21:38:39 CET 2009 Guido Günther <agx@sigxcpu.org>

	* configure.ac: add German translation

Fri Jan  9 21:37:46 CET 2009 Guido Günther <agx@sigxcpu.org>

	intltool-*.in not contained in this package
	* Makefile.am: remove intltool-*.in 

Fri Jan  9 21:35:24 CET 2009 Guido Günther <agx@sigxcpu.org>

	add missing files that contain translations
	* po/POTFILES.in: add missing C files
	* po/POTFILES.skip: don't worry about etpo/

Fri Jan  9 21:30:56 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/Makefile.am (EXTRA_DIST): fix schema_in_files typo

Sun Jan  4 16:58:17 CET 2009 Guido Günther <agx@sigxcpu.org>

	add gconf schema
	*  src/Makefile.am: process, install and cleanup schema file
	*  src/krb5-auth-dialog.schemas.in: new file

Sun Jan  4 16:51:33 CET 2009 Guido Günther <agx@sigxcpu.org>

	move HAVE_LIBNOTIFY check into krb5-auth-notify.c and simplify
	ka_status_update
	* src/krb5-auth-applet.c (ka_tooltip_text): new function
	  (ka_select_icon): new function
	  (ka_update_status): drop urgency, use ka_tooltip_text and
	  ka_select_icon
	* src/krb5-auth-notify.c (ka_send_event_notification): define
	  empty function when building without libnotify
	* src/krb5-auth-notify.h: don't include notify.h

Sun Jan  4 16:43:32 CET 2009 Guido Günther <agx@sigxcpu.org>

	add "expiring" tray icon
	* icons/krb5-expiring-ticket.png: new icon
	* icons/Makefile.am (smallicon_DATA): add new icon
	* src/krb5-auth-applet.[ch] (ka_icons): new enum, new icon
	  (ka_update_status): use ka_icons
	  (ka_create_applet): call gtk_window_set_default_icon_name
	* src/krb5-auth-dialog.c (main): don't call
	  gtk_window_set_default_icon_name

Sun Jan  4 16:37:35 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb5-auth-applet.c (ka_update_status): don't show a tooltip
	about ticket expiry if ticket is renewable

Sun Jan  4 16:28:35 CET 2009 Guido Günther <agx@sigxcpu.org>

	pkinit support
	* README: document pkinit gconf keys
	* configure.ac: check for heimdal's pkinit support
	* krb5-auth-applet.h (Krb5AuthApplet): add pk_userid
	* krb5-auth-dialog.c (ka_krb5_cc_clear_mcred): new function
	  (set_options_from_creds): call
	  krb5_get_init_creds_opt_set_default_flags
	  (ka_auth_pkinit): new function
	  (grab_credentials): call ka_auth_pkinit
	  (ka_renew_credentials); simplify
	  (ka_get_tgt_from_ccache): likewise
	* krb5-auth-gconf.c (ka_gconf_set_pk_userid): new function

Sun Jan  4 16:21:20 CET 2009 Guido Günther <agx@sigxcpu.org>

	use get_error_message() when possible
	* configure.ac: check for krb5_get_error_message
	* src/krb5-auth-dialog.c (get_error_message): new function
	  (ka_error_dialog): check for KRB5_LIBOS_PWDINTR

Sun Jan  4 16:18:19 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/krb-auth-dialog.[ch]: separate ticket renewal and interactive
	  ticket acquisition

Sun Jan  4 16:15:57 CET 2009 Guido Günther <agx@sigxcpu.org>

	* src/krbt-auth-{applet,dialog}.c don't popup the dialog if we have a
	  tray icon

Sun Jan  4 14:50:59 CET 2009 Guido Günther <agx@sigxcpu.org>

	use GtkSecureEntry instead of GtkEntry for the password entry
	* src/Makefile.am (AM_CPPFLAGS): add secmem/, gtksecentry/ to include
	  path
	* src/krb5-auth-dialog.c: use gtk_secure_entry_get_text instead of
	  gtk_entry_get_text
	* src/krb5-auth-dialog.glade (krb5_auth_dialog_setup): use custom widget
	  (ka_create_gtk_secure_entry,ka_secmem_init): new functions
	  (main): call ka_secmem_init, set custom glade handler for password
	  entry field

Sun Jan  4 14:48:14 CET 2009 Guido Günther <agx@sigxcpu.org>

	move dbus handling into a separate file
	* src/krb5-auth-dbus.[ch]: new file
	* src/krb5-auth-dialog.c: remove dbus related code
	* src/Makefile.am (krb5_auth_dialog_SOURCES): add krb5-auth-dbus.[ch]

Sun Jan  4 14:39:16 CET 2009 Guido Günther<agx@sigxcpu.org>

	add gtksecentry/secmem from gpg pinentry
	* Makefile.am (SUBDIRS): add gtksecentry
	* acinclude.m4: add GNUPG_CHECK_TYPEDEF, GNUPG_CHECK_MLOCK
	* gtksecentry/{Makefile.am,gtksecentry.c,gtksecentry.h}: new files
	* secmem/{Makfile.am,Manifest,memory.h,secmem{-util.h,.c},util.[ch]}:
	  new files
	* configure.ac: checks for secmem
	* src/Makefile.am (krb5_auth_dialog_LDADD): add libgtksecentry.a,
	  libsecmem.a

Sun Jan  4 14:28:06 CET 2009 Guido Günther <agx@sigxcpu.org>

	add a tray icon
	* configure.ac: check for libnotify, dbus, gconf
	* Makefile.am, icons/krb-{no-,}valid-ticket.png: add icons
	* src/krb5-auth-applet.[ch]: new files
	* src/krb5-auth-gconf.[ch]: new files
	* src/krb5-auth-notify.[ch]: new files
	* src/Makefile.am: expand krb5_auth_dialog_SOURCES and
	  krb5_auth_dialog_LDADD
	* README: document gconf keys

2008-09-26  Guido Guenther  <agx@sigxcpu.org>

	* src/krb5-auth-dialog.glade: remove width_request from
	krb5_auth_message_label. Now we display the whole principal name
	instead of cutting it off at an arbitrary position.

2008-09-26  Guido Guenther  <agx@sigxcpu.org>

	* src/krb5-auth-dialog.1.in: add manpage section

2008-09-26  Guido Guenther  <agx@agx@sigxcpu.org>

	* src/krb5-auth-dialog.desktop.in:
	remove duplicte exec form desktop file and fix comment

2008-06-09  Colin Walters  <walters@verbum.org>

	Bug 534867: should use g_timeout_add_seconds

	* src/krb5-auth-dialog.c: Save power with
	g_timeout_add_seconds.
	Patch from from Guido Günther.

2008-06-09  Colin Walters  <walters@verbum.org>

	Bug 534736: make i18n work

	* src/krb5-auth-dialog.c: Set up i18n correctly.
	* src/Makefile.am: Pass in LOCALEDIR.
	Patch from from Guido Günther.

2008-06-09  Colin Walters  <walters@verbum.org>

	Bug 534620: password field focus

	* src/krb5-auth-dialog.c: Be sure we focus the
	password field every time.
	Patch from from Guido Günther.

2008-06-09  Colin Walters  <walters@verbum.org>

	Bug 534515: cleanups

	* configure.in: Look for dbus-glib and not libgnome.
	Patch from from Guido Günther.

2008-06-09  Colin Walters  <walters@verbum.org>

	Bug 534515: cleanups

	* src/krb5-auth-dialog.c: Cleaner use of
	gboolean.  Patch from from Guido Günther.

2008-06-09  Colin Walters  <walters@verbum.org>

	Bug 534515: cleanups

	* src/krb5-auth-dialog.c: Use GOption instead of
	libgnome.  Patch from Guido Günther.

2008-06-09  Colin Walters  <walters@verbum.org>

	Bug 529220: set dialog icon

	* src/krb5-auth-dialog.c: Set an icon so we
	look nicer in the window list.  Patch from
	Guido Günther.

2008-03-22  Colin Walters  <walters@verbum.org>

	* src/krb5-auth-dialog.c: Grab a name on the
	session bus to be doubly sure we don't have
	multiple copies.  Also don't connect to the
	session manager, since it's not needed.

2008-03-22  Colin Walters  <walters@verbum.org>

	* MAINTAINERS: New file.
	* src/krb5-auth-dialog.c: Connect to session bus
	to be sure we exit when the session dies.

2006-10-29  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Clean up the #ifdefs to
	make things slightly more readable.
	Refactor code slightly, removing an #ifdef in favor
	of a wrapper.  Consolidate coding style.

2006-07-24  Christopher Aillon  <caillon@redhat.com>

	* configure.ac: Release 0.7

2006-07-24  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Don't immediately retry
	to reach the KDC if it is unavailable. That will
	just loop forever (until the KDC becomes available).
	Bail out; we'll check (once!) to see whether it's
	there the next time our g_timeout callback gets
	invoked.

2006-04-18  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.ac: Remove obsolete entry for no_NO
	* po/no.po: And the translation

2006-03-17  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Check to see whether credentials
	are renewable; if so, renew them automatically.  Implement this
	for the MIT implementation only.  (Fixes #331210)

	* configure.ac: Add test to see whether we have krb5_get_renewed_creds

2006-02-01  Nalin Dahyabhai <nalin@redhat.com>
	* src/krb5-auth-dialog.c: keep track of whether or not the user
	explicitly canceled our last request for information.  If she did,
	then don't ask again while the expiration time remains unchanged.
	Change recursion inside of renew_credentials() into a loop in its
	calling function.

2006-02-01  Nalin Dahyabhai <nalin@redhat.com>
	* src/krb5-auth-dialog.c(krb5_gtk_prompter): rename to avoid polluting
	the krb5 namespace.
	* src/krb5-auth-dialog.c: don't use time() to figure out what time it
	is -- we always compare against a krb5_timestamp, so use the libkrb5
	routines which return the current time instead.

2006-02-01  Nalin Dahyabhai <nalin@redhat.com>
	* README: correct a typo
	* src/krb5-auth-dialog.c(renew_credentials): fix a warning where we
	were passing an int where a pointer was expected

2006-01-31  Christopher Aillon  <caillon@redhat.com>

	* configure.ac: Release 0.6

2006-01-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.desktop.in:
	Add desktop file for autostart

	* krb5-auth-dialog.spec.in:
	* src/Makefile.am:
	Install desktop file to the correct location

	* src/.cvsignore: Add generated file

2006-01-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.glade: Don't explicitly
	set the invisible_char to '*', get it from GTK+

2005-11-08  Christopher Aillon  <caillon@redhat.com>

	* configure.ac: Release 0.5

2005-11-03  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Consolidate how we figure out the
	expiry text

2005-11-03  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Use ngettext () where appropriate

2005-11-02  Nalin Dahyabhai <nalin@redhat.com>

	* src/krb5-auth-dialog.1.in: add a man page.

2005-11-02  Nalin Dahyabhai <nalin@redhat.com>

	* configure.ac,src/krb5-auth-dialog.c: make the minimum acceptable
	lifetime for new credentials the minimum that would force us to take
	action, not the amount of time we wait in between checks.  Let the
	check interval be defined in seconds and the minimum lifetime be
	specified in minutes.

2005-11-02  Nalin Dahyabhai <nalin@redhat.com>

	* configure.ac,src/krb5-auth-dialog.c: just test for the definitions
	of the flags directly.

2005-11-02  Nalin Dahyabhai <nalin@redhat.com>

	* etpo/lexer.l,etpo/grammar.y: silence a couple of compiler warnings
	about implicitly-declared functions.

2005-11-02  Nalin Dahyabhai <nalin@redhat.com>

	* configure.ac: test for differences between the Heimdal and MIT
	Kerberos APIs.
	* src/krb5-auth-dialog.c: abstract out differences in how credential
	flags and realm names are stored.

2005-11-01  Christopher Aillon  <caillon@redhat.com>

	* configure.ac: Release 0.4

2005-11-01  Christopher Aillon  <caillon@redhat.com>

	* Makefile.am:
	* krb5-auth-dialog.spec.in:
	* src/krb5-auth-dialog.c
	Patch from Nalin Dahyabhai <nalin@redhat.com>
	- Fix the .spec file so that it doesn't choke due to
	translations.
	- Include the .spec file in the dist tarball so that
	'rpmbuild -ts' will work.
	- Correct a compiler warning.
	- Set forwardable/proxiable/lifetime from the current ccache,
	if there is one.
	- Add a "--always" flag to let us pinch-hit for 'kinit'.
	- Add a "--auto" flag to override it.
	- Interpret a preauthentication failure as a bad password.
	- If we already have a ccache, use its default principal as our 
	default, in case it differs from the local user name.  If the 
	default principal changes out from under us, pick it up, too.
	- Don't give a bogus lifetime if the ccache is deleted between 
	checks.

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* configure.ac: Release 0.3

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* Makefile.am:
	* src/Makefile.am:
	* src/dummy-strings.c:
	Make `make distcheck` happy

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Memleak fixes
	Also, respect the hidden field of krb5_prompt

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Fix test to determine whether we
	are using krb5 using new get_tgt_from_ccache () function
	from Nalin Dahyabhai <nalin@redhat.com>

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Set the application name.
	Also, say less 'kerberos' in user visible text.

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Update the credentials expiry time

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: No need to pass around our GladeXML
	since its a static global

2005-10-31  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: The dialog shouldn't have two labels
	reading 'Password:' so make the primary one have better text.

2005-10-29  Christopher Aillon  <caillon@redhat.com>

	* configure.ac:
	* src/Makefile.am:
	* src/krb5-auth-dialog.c: Use libnm-glib for NetworkManager support
	instead of the NetworkManager D-BUS API.

2005-10-29  Christopher Aillon  <caillon@redhat.com>

	* src/krb5-auth-dialog.c: Reformat using tabs instead of spaces

2004-09-07  Christopher Aillon  <caillon@redhat.com>
	* src/krb5-auth-dialog.c: Check whether we are running in a
	kerberos environment before entering the timeout to see when
	the tickets expire.

	* src/krb5-auth-dialog.c: Use g_get_user_name and other code
	cleanup.

2004-09-02  Colin Walters  <walters@verbum.org>

	* configure.in: Check for NetworkManager.

	* Makefile.am: Add NETWORKMANAGER_LIBS.

	* src/krb5-auth-dialog.c (am_online): New function,
	uses NetworkManager over D-BUS to determine
	whether or not we're online.

	* src/krb5-auth-dialog.c (credentials_expiring): Don't
	try to renew credentials if we're not online.

2004-08-28  Diego Gonzalez  <diego@pemas.net>

	* configure.ac: add --with-heimdal
	* krb5-auth-dialog.c: modify to support heimdal if enabled
	* krb5-auth-dialog.glade: center the dialog

2004-08-19  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.ac: Added «nb» and «no» to ALL_LINGUAS.

2004-08-18  Christopher Aillon  <caillon@redhat.com>

	* configure.ac: New version

	* src/krb5-auth-dialog.c: Display status text for bad passwords
	and display remaining time until expiry	

Tue Aug 17 15:27:33 2004  Jonathan Blandford  <jrb@redhat.com>

	* src/krb5-auth-dialog.c: Use gettext

	* src/dummy-strings.c: Kerberos error messages to translate.

Tue Aug 17 13:53:45 2004  Jonathan Blandford  <jrb@redhat.com>

	* ChangeLog: Started changelog

	* etpo/*: New subdir to help with translations of kerberos.

